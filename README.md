# 01-api-cars-mysql
Playing with Docker + Kubernetes + MySQL

## Instructions Docker Environment
```
(in app's application.yml do bellow)
  # DOCKER
       url: jdbc:mysql://172.17.0.2:3306/dbcarros?createDatabaseIfNotExist=true&autoReconnect=true&useSSL=false
       username: root
       password: 123456
      # KUBERNETES
      #  url: jdbc:mysql://db-mysql:3306/dbcarros?createDatabaseIfNotExist=true&autoReconnect=true&useSSL=false
      #  username: root
      #  password: 123456
      
**** BE ATENTION****
172.17.0.2 generated by steps below: 

$ docker pull mysql:5.6
$ docker run  -p 3303:3306 --name mysql-standalone -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_DATABASE=dbcarros -e MYSQL_PASSWORD=123456 -d mysql:5.6
$ docker inspect mysql-standalone    (see IP put in application.yml connection) 
$ mvn clean install -DskipTests
$ docker build -t api-carros:1 .

(project's root directory)
$ docker-compose up -d
```


## Instructions Kubernetes Environment
```
(inside kubernetes directory)
$ kubectl apply -f .
$ minikube service api-carros 

API POST:
http://<YOUR-IP-GENERATED-BY-KUBERNETES>:30001/api/carros (POST)
(Body POST):
{
	"marca": "Chevrolet",
	"modelo": "Cruze 1.4 Turbo Sedan"
}

API GET:
http://<YOUR-IP-GENERATED-BY-KUBERNETES>:30001/api/carros/1 (GET)

Happy coding!  :p
```
